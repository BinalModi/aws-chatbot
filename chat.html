<!-- Author: Vikram Sunil Bajaj -->
<!DOCTYPE html>
<html>

<head>
    <title>Cloud Bot</title>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- Tab Color -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#263238">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#263238">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <style>
        .brand-logo:hover {
            color: #FF7043;
        }

        .nav-wrapper a img {
            max-width: 100%;
            max-height: 100%;
        }

        body {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
        }

        main {
            flex: 1 0 auto;
        }

    </style>

    <!-- scripts for SDK -->
    <script type="text/javascript" src="lib/axios/dist/axios.standalone.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/rollups/sha256.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/components/hmac.js"></script>
    <script type="text/javascript" src="lib/CryptoJS/components/enc-base64.js"></script>
    <script type="text/javascript" src="lib/url-template/url-template.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/sigV4Client.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/apiGatewayClient.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/simpleHttpClient.js"></script>
    <script type="text/javascript" src="lib/apiGatewayCore/utils.js"></script>
    <script type="text/javascript" src="apigClient.js"></script>

    <!-- script to send message to Lambda function event using URL obtained from Deployment Stage -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            $("#submit").click(function(e) {
                e.preventDefault();

                var message = $("#message").val();

                $.ajax({
                    type: "POST",
                    url: 'https://0nync32bsl.execute-api.us-east-1.amazonaws.com/test/chatbot',
                    contentType: 'application/json',
                    data: JSON.stringify({
                        'message': message
                    }),
                    success: function(res) {
                        $('#form-response').text(res);
                    },
                    error: function() {
                        $('#form-response').text('Error.');
                    }
                });

            })

        });

    </script>
</head>

<body>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <!-- navbar -->
    <header>
        <nav>
            <div class="nav-wrapper" style="background: #263238;">
                <a href="#"><img src="images/logo.png" alt="Logo"></a>
                <a href="#" class="brand-logo center">Cloud Bot</a>
                <a href="#" data-activates="mobile-demo" class="button-collapse right"><i class="material-icons">menu</i></a>
                <ul class="right hide-on-med-and-down">
                    <li><a class="waves-effect waves-light btn" href="https://s3.amazonaws.com/vilshibi-cloudbot/index.html">Log Out</a></li>
                </ul>
                <ul class="side-nav" id="mobile-demo">
                    <li><a class="waves-effect waves-light btn" href="https://s3.amazonaws.com/vilshibi-cloudbot/index.html">Log Out</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main style="background: #37474F;">
        <div id="demo" class="col s12" style="background: #37474F;">
            <div class="row">
                <div class="col s12 m8 l8 push-m2 push-l2">
                    <div class="card" style="background: #263238;">
                        <div class="card-content">
                            <div class="row">
                                <form class="col s12" method="POST">
                                    <div class="row">
                                        <div class="input-field col s12">
                                            <i class="material-icons prefix" style="color: #37474F">chat</i>
                                            <textarea id="message" name="message" class="materialize-textarea" required="required" style="color: #FFFFFF;"></textarea>
                                            <label for="message">Message</label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <button id="submit" class="btn waves-effect waves-light right" type="submit" name="action" style="background-color: #FF7043;">Send
                                                <i class="material-icons right">send</i>
                                            </button>
                                    </div>
                                </form>
                                <div style="color: white" id="form-response"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="page-footer " style="background-color: #263238; margin: 0; ">
        <div class="container ">
            <div class="row ">
                <div class="col l6 s12 m6 push-l3 push-m3 ">

                </div>
            </div>
        </div>
        <div class="footer-copyright ">
            <div class="container ">
                <br>
            </div>
        </div>
    </footer>
    <script>
        $(document).ready(function() {
            $(".button-collapse").sideNav({
                menuWidth: 240,
                edge: 'right',
                closeOnClick: true
            });
        });

    </script>
</body>

</html>
